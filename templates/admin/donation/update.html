{% extends "admin/base.html" %}

{% block content %}
<div class="container mt-4">
  <h2>Edit Donation</h2>

  <form method="post" action="/donation/{{ donation.id }}/edit">
    <div class="mb-3">
      <label class="form-label">Member</label>
      <input type="text" class="form-control" name="member_display" value="{{ donation.member.first_name }} {{ donation.member.last_name }}" readonly>
      <!-- Keep the actual member_id as hidden so you can still submit it -->
      <input type="hidden" name="member_id" value="{{ donation.member.id }}">
    </div>
       
    <div class="mb-3">
      <label class="form-label">Amount</label>
      <input
        type="number"
        step="0.01"
        class="form-control"
        name="amount"
        value="{{ donation.amount }}"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">Donation Type</label>
      <select class="form-select" name="donation_type" required>
        {% for t in ['sunday donation','tithe','pledge','other donations'] %}
        <option value="{{ t }}" {% if t == donation.donation_type %}selected{% endif %}>
          {{ t|capitalize }}
        </option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Date</label>
      <input
        type="date"
        class="form-control"
        name="donation_date"
        value="{{ donation.donation_date }}"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">Remarks</label>
      <textarea class="form-control" name="remarks">{{ donation.remarks }}</textarea>
    </div>

    <button class="btn btn-primary">Update Donation</button>
    <a href="/donation" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
